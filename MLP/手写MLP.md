# 一、先画结构与尺寸

* 输入层：4 维
* 隐藏层：5 个神经元（激活：ReLU）
* 输出层：3 个神经元（激活：Softmax）

在纸上画三列小圆点：左 4 个（输入），中间 5 个（隐藏），右 3 个（输出）。
标尺寸：

* W1W\_1: 5×45\\times4，b1b\_1: 5×15\\times1
* W2W\_2: 3×53\\times5，b2b\_2: 3×13\\times1

# 二、给一组“好算”的整数参数

**输入向量**

x=[10−12]x= \\begin{bmatrix} 1\\\\ 0\\\\ -1\\\\ 2 \\end{bmatrix}**第一层权重与偏置**

W1=[100101−101−1000011−1010],b1=[0100−1]W\_1= \\begin{bmatrix} 1&0&0&1\\\\ 0&1&-1&0\\\\ 1&-1&0&0\\\\ 0&0&1&1\\\\ -1&0&1&0 \\end{bmatrix},\\quad b\_1= \\begin{bmatrix} 0\\\\ 1\\\\ 0\\\\ 0\\\\ -1 \\end{bmatrix}**第二层权重与偏置**

W2=[1010001010−10011],b2=[000]W\_2= \\begin{bmatrix} 1&0&1&0&0\\\\ 0&1&0&1&0\\\\ -1&0&0&1&1 \\end{bmatrix},\\quad b\_2= \\begin{bmatrix} 0\\\\ 0\\\\ 0 \\end{bmatrix}# 三、按步骤手算一次前向

## 1) 全连接 1：z1=W1x+b1z\_1=W\_1x+b\_1

逐行点乘（我把中间值也写出来，便于你核对）：

* 第1行：1⋅1+0⋅0+0⋅(−1)+1⋅2=31\\cdot1+0\\cdot0+0\\cdot(-1)+1\\cdot2=3，加偏置 +0=3+0=3
* 第2行：0⋅1+1⋅0+(−1)⋅(−1)+0⋅2=10\\cdot1+1\\cdot0+(-1)\\cdot(-1)+0\\cdot2=1，加偏置 +1=2+1=2
* 第3行：1⋅1+(−1)⋅0+0⋅(−1)+0⋅2=11\\cdot1+(-1)\\cdot0+0\\cdot(-1)+0\\cdot2=1，加偏置 +0=1+0=1
* 第4行：0⋅1+0⋅0+1⋅(−1)+1⋅2=10\\cdot1+0\\cdot0+1\\cdot(-1)+1\\cdot2=1，加偏置 +0=1+0=1
* 第5行：(−1)⋅1+0⋅0+1⋅(−1)+0⋅2=−2(-1)\\cdot1+0\\cdot0+1\\cdot(-1)+0\\cdot2=-2，加偏置 +(−1)=−3+(-1)=-3

所以

z1=[3211−3]z\_1=\\begin{bmatrix}3\\\\2\\\\1\\\\1\\\\-3\\end{bmatrix}## 2) ReLU：a1=ReLU⁡(z1)=max⁡(0,z1)a\_1=\\operatorname{ReLU}(z\_1)=\\max(0,z\_1)

a1=[32110]a\_1=\\begin{bmatrix}3\\\\2\\\\1\\\\1\\\\0\\end{bmatrix}## 3) 全连接 2：z2=W2a1+b2z\_2=W\_2a\_1+b\_2

* 第1行：1⋅3+0⋅2+1⋅1+0⋅1+0⋅0=41\\cdot3+0\\cdot2+1\\cdot1+0\\cdot1+0\\cdot0=4
* 第2行：0⋅3+1⋅2+0⋅1+1⋅1+0⋅0=30\\cdot3+1\\cdot2+0\\cdot1+1\\cdot1+0\\cdot0=3
* 第3行：(−1)⋅3+0⋅2+0⋅1+1⋅1+1⋅0=−2(-1)\\cdot3+0\\cdot2+0\\cdot1+1\\cdot1+1\\cdot0=-2

z2=[43−2]z\_2=\\begin{bmatrix}4\\\\3\\\\-2\\end{bmatrix}## 4) Softmax：y=softmax⁡(z2)y=\\operatorname{softmax}(z\_2)

softmax(z)i=ezi∑jezj\\text{softmax}(z)\_i=\\frac{e^{z\_i}}{\\sum\_j e^{z\_j}}用常见近似：e4≈54.598e^4\\approx 54.598、e3≈20.085e^3\\approx 20.085、e−2≈0.1353e^{-2}\\approx 0.1353。
分母和：54.598+20.085+0.1353≈74.818354.598+20.085+0.1353\\approx 74.8183。

y≈[54.598/74.818320.085/74.81830.1353/74.8183]≈[0.7300.2680.0018](四舍五入到三位小数)y\\approx \\begin{bmatrix} 54.598/74.8183\\\\ 20.085/74.8183\\\\ 0.1353/74.8183 \\end{bmatrix} \\approx \\begin{bmatrix} 0.730\\\\ 0.268\\\\ 0.0018 \\end{bmatrix} \\quad(\\text{四舍五入到三位小数})因此最终输出（概率）约为 [0.730,  0.268,  0.0018][0.730,\\;0.268,\\;0.0018]，预测类别是第 1 类。

---

# 四、纸笔计算小技巧

1. **先写尺寸再算**：在箭头边上写清楚 W1(5×4)W\_1(5\\times4)、W2(3×5)W\_2(3\\times5)，避免乘法维度错位。
2. **点乘分行列**：算 W1xW\_1x 时逐行点乘最不易错。
3. **ReLU 一笔带过**：负数清零，正数原样抄。
4. **Softmax 选好数值**：尽量让 z2z\_2 的元素落在 {−2,−1,0,1,2,3,4}\\{-2, -1, 0, 1, 2, 3, 4\\}，这样 eke^k 好估。
5. **保留三位小数**：中间可多保留一两位，最后统一到三位。

如果你想要我**再给一组不同的整数权重/输入**让你练手，或者把上面步骤做成一页“练习卡（可打印）”，告诉我就直接给你。
